<!-- <div class="perfil-container">
    <div class="perfil-header">
        <h1 class="titulo">Mi Perfil Médico</h1>
        <p class="subtitulo">Mantén actualizada tu información personal y médica</p>
    </div>
    <div class="perfil-content">
        <div class="seccion-card">
            <div class="card-header">
                <h2><i class="fas fa-user"></i> Información Personal</h2>
                <button class="btn-editar" (click)="editarInformacionPersonal()" [disabled]="editandoPersonal">
                    <i class="fas fa-edit"></i>
                    {{ editandoPersonal ? 'Editando...' : 'Editar' }}
                </button>
            </div>

            <div class="info-grid">
                <div class="info-item">
                    <label>Nombres Completos</label>
                    <input type="text" [(ngModel)]="perfilPaciente.nombres" [readonly]="!editandoPersonal"
                        class="form-input" [class.editable]="editandoPersonal">
                </div>

                <div class="info-item">
                    <label>Apellidos</label>
                    <input type="text" [(ngModel)]="perfilPaciente.apellidos" [readonly]="!editandoPersonal"
                        class="form-input" [class.editable]="editandoPersonal">
                </div>

                <div class="info-item">
                    <label>Documento de Identidad</label>
                    <input type="text" [(ngModel)]="perfilPaciente.dni" [readonly]="!editandoPersonal"
                        class="form-input" [class.editable]="editandoPersonal">
                </div>

                <div class="info-item">
                    <label>Fecha de Nacimiento</label>
                    <input type="date" [(ngModel)]="perfilPaciente.fechaNacimiento" [readonly]="!editandoPersonal"
                        class="form-input" [class.editable]="editandoPersonal">
                </div>

                <div class="info-item">
                    <label>Género</label>
                    <select [(ngModel)]="perfilPaciente.genero" [disabled]="!editandoPersonal" class="form-input"
                        [class.editable]="editandoPersonal">
                        <option value="masculino">Masculino</option>
                        <option value="femenino">Femenino</option>
                        <option value="otro">Otro</option>
                    </select>
                </div>

                <div class="info-item">
                    <label>Estado Civil</label>
                    <select [(ngModel)]="perfilPaciente.estadoCivil" [disabled]="!editandoPersonal" class="form-input"
                        [class.editable]="editandoPersonal">
                        <option value="soltero">Soltero(a)</option>
                        <option value="casado">Casado(a)</option>
                        <option value="divorciado">Divorciado(a)</option>
                        <option value="viudo">Viudo(a)</option>
                    </select>
                </div>
            </div>

            @if (editandoPersonal) {
            <div class="acciones">
                <button class="btn-guardar" (click)="guardarInformacionPersonal()">
                    <i class="fas fa-save"></i> Guardar Cambios
                </button>
                <button class="btn-cancelar" (click)="cancelarEdicionPersonal()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
            }
        </div>

        <div class="seccion-card">
            <div class="card-header">
                <h2><i class="fas fa-phone"></i> Información de Contacto</h2>
                <button class="btn-editar" (click)="editarContacto()" [disabled]="editandoContacto">
                    <i class="fas fa-edit"></i>
                    {{ editandoContacto ? 'Editando...' : 'Editar' }}
                </button>
            </div>

            <div class="info-grid">
                <div class="info-item full-width">
                    <label>Correo Electrónico</label>
                    <input type="email" [(ngModel)]="perfilPaciente.email" [readonly]="!editandoContacto"
                        class="form-input" [class.editable]="editandoContacto">
                </div>

                <div class="info-item">
                    <label>Teléfono Principal</label>
                    <input type="tel" [(ngModel)]="perfilPaciente.telefono" [readonly]="!editandoContacto"
                        class="form-input" [class.editable]="editandoContacto">
                </div>

                <div class="info-item">
                    <label>Teléfono de Emergencia</label>
                    <input type="tel" [(ngModel)]="perfilPaciente.telefonoEmergencia" [readonly]="!editandoContacto"
                        class="form-input" [class.editable]="editandoContacto">
                </div>

                <div class="info-item full-width">
                    <label>Dirección Completa</label>
                    <textarea [(ngModel)]="perfilPaciente.direccion" [readonly]="!editandoContacto"
                        class="form-input textarea" [class.editable]="editandoContacto" rows="3"></textarea>
                </div>
            </div>

            @if (editandoContacto) {
            <div class="acciones">
                <button class="btn-guardar" (click)="guardarContacto()">
                    <i class="fas fa-save"></i> Guardar Cambios
                </button>
                <button class="btn-cancelar" (click)="cancelarEdicionContacto()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
            }
        </div>

        <div class="seccion-card">
            <div class="card-header">
                <h2><i class="fas fa-heartbeat"></i> Información Médica</h2>
                <button class="btn-editar" (click)="editarInformacionMedica()" [disabled]="editandoMedica">
                    <i class="fas fa-edit"></i>
                    {{ editandoMedica ? 'Editando...' : 'Editar' }}
                </button>
            </div>

            <div class="info-grid">
                <div class="info-item">
                    <label>Tipo de Sangre</label>
                    <select [(ngModel)]="perfilPaciente.tipoSangre" [disabled]="!editandoMedica" class="form-input"
                        [class.editable]="editandoMedica">
                        <option value="A+">A+</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B-">B-</option>
                        <option value="AB+">AB+</option>
                        <option value="AB-">AB-</option>
                        <option value="O+">O+</option>
                        <option value="O-">O-</option>
                    </select>
                </div>

                <div class="info-item">
                    <label>Peso (kg)</label>
                    <input type="number" [(ngModel)]="perfilPaciente.peso" [readonly]="!editandoMedica"
                        class="form-input" [class.editable]="editandoMedica" min="1" max="300">
                </div>

                <div class="info-item">
                    <label>Altura (cm)</label>
                    <input type="number" [(ngModel)]="perfilPaciente.altura" [readonly]="!editandoMedica"
                        class="form-input" [class.editable]="editandoMedica" min="50" max="250">
                </div>

                <div class="info-item">
                    <label>IMC Calculado</label>
                    <input type="text" [value]="calcularIMC()" readonly class="form-input imc-result">
                </div>

                <div class="info-item full-width">
                    <label>Alergias Conocidas</label>
                    <textarea [(ngModel)]="perfilPaciente.alergias" [readonly]="!editandoMedica"
                        class="form-input textarea" [class.editable]="editandoMedica" rows="3"
                        placeholder="Describe cualquier alergia medicamentosa o alimentaria..."></textarea>
                </div>

                <div class="info-item full-width">
                    <label>Medicamentos Actuales</label>
                    <textarea [(ngModel)]="perfilPaciente.medicamentosActuales" [readonly]="!editandoMedica"
                        class="form-input textarea" [class.editable]="editandoMedica" rows="3"
                        placeholder="Lista los medicamentos que tomas actualmente..."></textarea>
                </div>

                <div class="info-item full-width">
                    <label>Antecedentes Médicos</label>
                    <textarea [(ngModel)]="perfilPaciente.antecedentesMedicos" [readonly]="!editandoMedica"
                        class="form-input textarea" [class.editable]="editandoMedica" rows="4"
                        placeholder="Historial de enfermedades, cirugías, hospitalizaciones..."></textarea>
                </div>
            </div>

            @if (editandoMedica) {
            <div class="acciones">
                <button class="btn-guardar" (click)="guardarInformacionMedica()">
                    <i class="fas fa-save"></i> Guardar Cambios
                </button>
                <button class="btn-cancelar" (click)="cancelarEdicionMedica()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
            }
        </div>

        <div class="seccion-card">
            <div class="card-header">
                <h2><i class="fas fa-ambulance"></i> Contacto de Emergencia</h2>
                <button class="btn-editar" (click)="editarEmergencia()" [disabled]="editandoEmergencia">
                    <i class="fas fa-edit"></i>
                    {{ editandoEmergencia ? 'Editando...' : 'Editar' }}
                </button>
            </div>

            <div class="info-grid">
                <div class="info-item">
                    <label>Nombre Completo</label>
                    <input type="text" [(ngModel)]="perfilPaciente.contactoEmergencia.nombre"
                        [readonly]="!editandoEmergencia" class="form-input" [class.editable]="editandoEmergencia">
                </div>

                <div class="info-item">
                    <label>Relación</label>
                    <input type="text" [(ngModel)]="perfilPaciente.contactoEmergencia.relacion"
                        [readonly]="!editandoEmergencia" class="form-input" [class.editable]="editandoEmergencia"
                        placeholder="Ej: Padre, Hermano, Cónyuge">
                </div>

                <div class="info-item">
                    <label>Teléfono</label>
                    <input type="tel" [(ngModel)]="perfilPaciente.contactoEmergencia.telefono"
                        [readonly]="!editandoEmergencia" class="form-input" [class.editable]="editandoEmergencia">
                </div>

                <div class="info-item">
                    <label>Teléfono Alternativo</label>
                    <input type="tel" [(ngModel)]="perfilPaciente.contactoEmergencia.telefonoAlt"
                        [readonly]="!editandoEmergencia" class="form-input" [class.editable]="editandoEmergencia">
                </div>
            </div>

            @if (editandoEmergencia) {
            <div class="acciones">
                <button class="btn-guardar" (click)="guardarEmergencia()">
                    <i class="fas fa-save"></i> Guardar Cambios
                </button>
                <button class="btn-cancelar" (click)="cancelarEdicionEmergencia()">
                    <i class="fas fa-times"></i> Cancelar
                </button>
            </div>
            }
        </div>

    </div>

    @if (mensajeGuardado) {
    <div class="mensaje-exito">
        <i class="fas fa-check-circle"></i>
        {{ mensajeGuardado }}
    </div>
    }
</div> -->